<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using the App &mdash; Nautobot App Docs  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting Started with the App" href="app_getting_started.html" />
    <link rel="prev" title="App Overview" href="app_overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/nautobot_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../nautobot-apps.html">Nautobot App Ecosystem</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Nautobot Device Onboarding</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="app_overview.html">App Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using the App</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-usage">General Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#preparation">Preparation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ios-and-junos-auto-created-platforms">IOS and Junos Auto-Created Platforms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#use-cases-and-common-workflows">Use-cases and common workflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-new-platform">Create a New Platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onboard-a-new-device">Onboard a New Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onboard-a-cisco-nxos-device-running-the-nxapi-feature">Onboard a Cisco NXOS Device Running the <code class="docutils literal notranslate"><span class="pre">nxapi</span></code> Feature</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onboarding-an-arista-eos-device">Onboarding an Arista EOS Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consult-the-status-of-onboarding-tasks">Consult the Status of Onboarding Tasks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#screenshots">Screenshots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#list-of-onboarding-tasks">List of Onboarding Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#csv-form-to-import-multiple-devices">CSV form to import multiple devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onboard-a-single-device">Onboard a single device</a></li>
<li class="toctree-l4"><a class="reference internal" href="#menu">Menu</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="app_getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="app_faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="app_external_interactions.html">External Interactions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Nautobot Golden Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../nautobot-plugin-golden-config/user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nautobot-plugin-golden-config/admin/index.html">Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nautobot-plugin-golden-config/dev/index.html">Developer Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Nautobot App Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Nautobot Device Onboarding</a> &raquo;</li>
      <li>Using the App</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/nautobot-plugin-device-onboarding/user/app_use_cases.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-the-app">
<h1>Using the App<a class="headerlink" href="#using-the-app" title="Permalink to this headline"></a></h1>
<section id="general-usage">
<h2>General Usage<a class="headerlink" href="#general-usage" title="Permalink to this headline"></a></h2>
<section id="preparation">
<h3>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline"></a></h3>
<p>To properly onboard a device, user needs to provide, at a minimum:</p>
<ol class="arabic simple">
<li><p>The Device’s Site</p></li>
<li><p>The Device’s primary IP address or DNS Name</p></li>
</ol>
<blockquote>
<div><p>For DNS Name Resolution to work, the instance of Nautobot must be able to resolve the name of the device to IP address.</p>
</div></blockquote>
<p>If other attributes (<code class="docutils literal notranslate"><span class="pre">Platform</span></code>, <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Type</span></code>, <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Role</span></code>) are provided in the onboarding task, the plugin will use provided value for the onboarded device.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Type</span></code> and/or <code class="docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Role</span></code> are not provided, the plugin will try to identify these information automatically and, based on the settings, it can create them in Nautobot as needed.</p>
<blockquote>
<div><p>If the Platform is provided, it must point to an existing Nautobot Platform. NAPALM driver of this platform will be used only if it is defined for the platform in Nautobot.
To use a preferred NAPALM driver, either define it in Nautobot per platform or in the plugins settings under <code class="docutils literal notranslate"><span class="pre">platform_map</span></code>.</p>
</div></blockquote>
<section id="ssh-autodetect">
<h4>SSH Autodetect<a class="headerlink" href="#ssh-autodetect" title="Permalink to this headline"></a></h4>
<p>Plugin recognizes platform types with a Netmiko SSH Autodetect mechanism. The user will need to specify additional information for platforms where Netmiko’s <code class="docutils literal notranslate"><span class="pre">ssh_autodetect</span></code> feature does not work.</p>
<p><a class="reference external" href="https://github.com/ktbyers/netmiko/blob/v3.4.0/netmiko/ssh_autodetect.py#L50">Here is the list</a> of platforms supported by <code class="docutils literal notranslate"><span class="pre">ssh_autodetect</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">nautobot-device-onboarding</span></code> plugin can be used with any devices that are supported by NAPALM. Even custom NAPALM driver plugins can be used with a bit of effort.</p>
<p>Devices that are supported by NAPALM but are not running SSH or don’t have support for <code class="docutils literal notranslate"><span class="pre">ssh_autodetect</span></code> will still work with this plugin, but will require some additional information in the onboarding task.</p>
<p>The table below shows which common platforms will be SSH auto-detected by default.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Platform</p></th>
<th class="head"><p>Platform Autodetect</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Juniper/Junos</p></td>
<td><p>Yes (when running Netconf over SSH)</p></td>
</tr>
<tr class="row-odd"><td><p>Cisco IOS-XE</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Cisco NXOS (ssh)</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Cisco NXOS (nxapi)</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>Arista EOS</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>For the platforms where SSH auto-detection does not work, the user will need to:</p>
<ol class="arabic simple">
<li><p>Manually define a Platform in Nautobot (this will be a one-time task in order to support any number of devices using this Platform)</p></li>
<li><p>During onboarding, a Port and Platform must explicitly be specified (in addition to the IP and Site)</p></li>
</ol>
</section>
</section>
<section id="ios-and-junos-auto-created-platforms">
<h3>IOS and Junos Auto-Created Platforms<a class="headerlink" href="#ios-and-junos-auto-created-platforms" title="Permalink to this headline"></a></h3>
<p>The Onboarding Plugin will automatically create Platforms for vendor operating systems where platform auto-detection works. The picture below shows the details of auto-created Platforms for <code class="docutils literal notranslate"><span class="pre">cisco_ios</span></code> and <code class="docutils literal notranslate"><span class="pre">juniper_junos</span></code>.</p>
<p><img alt="cisco_ios_platform" src="../../_images/ss_platform_cisco_ios.png" />
<img alt="juniper_junos_platform" src="../../_images/ss_platform_juniper_junos.png" /></p>
</section>
</section>
<section id="use-cases-and-common-workflows">
<h2>Use-cases and common workflows<a class="headerlink" href="#use-cases-and-common-workflows" title="Permalink to this headline"></a></h2>
<section id="create-a-new-platform">
<h3>Create a New Platform<a class="headerlink" href="#create-a-new-platform" title="Permalink to this headline"></a></h3>
<p>This section demonstrates how to create a new Platform in the Nautobot UI. Specifically, it offers examples for creating platforms for Cisco <code class="docutils literal notranslate"><span class="pre">nxapi</span></code> and Arista <code class="docutils literal notranslate"><span class="pre">eos</span></code> devices, but the concepts are applicable to any Platform that is manually created.</p>
<ul class="simple">
<li><p>In the Nautobot dropdown menu, go to <code class="docutils literal notranslate"><span class="pre">Devices--&gt;</span> <span class="pre">Platforms--&gt;</span> <span class="pre">Add/+</span></code>.</p></li>
<li><p>Define the attributes for the Platform on this screen and click on the ‘Create’ button.</p></li>
<li><p>‘Manufacturer’ and ‘NAPALM arguments’ are optional.</p></li>
</ul>
<blockquote>
<div><p>The Slug value will be auto-populated based on the Platform Name, but you can overwrite that auto-populated value. For the platform to work correctly with this plugin, in many cases you will need to set a specific Slug value for it to work properly.</p>
</div></blockquote>
<section id="cisco-nxos-platform">
<h4>Cisco NXOS Platform<a class="headerlink" href="#cisco-nxos-platform" title="Permalink to this headline"></a></h4>
<p>A Platform that will work with NXOS devices running the <code class="docutils literal notranslate"><span class="pre">nxapi</span></code> feature must have specific values for these attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Slug</span></code> <strong>SHOULD</strong> be <code class="docutils literal notranslate"><span class="pre">cisco_nxos</span></code> (you may have to overwrite the auto-populated Slug value).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NAPALM</span> <span class="pre">driver</span></code> <strong>MUST</strong> be <code class="docutils literal notranslate"><span class="pre">nxos</span></code>.</p></li>
</ul>
</section>
<section id="arista-eos-platform">
<h4>Arista EOS Platform<a class="headerlink" href="#arista-eos-platform" title="Permalink to this headline"></a></h4>
<p>A Platform that will work with Arista EOS devices must have specific values for these attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Slug</span></code> <strong>SHOULD</strong> be <code class="docutils literal notranslate"><span class="pre">arista_eos</span></code> (you may have to overwrite the auto-populated Slug value).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NAPALM</span> <span class="pre">driver</span></code> <strong>MUST</strong> be <code class="docutils literal notranslate"><span class="pre">eos</span></code>.</p></li>
</ul>
</section>
</section>
<section id="onboard-a-new-device">
<h3>Onboard a New Device<a class="headerlink" href="#onboard-a-new-device" title="Permalink to this headline"></a></h3>
<p>A new device can be onboarded via :</p>
<ul class="simple">
<li><p>A web form  <code class="docutils literal notranslate"><span class="pre">/plugins/device-onboarding/add/</span></code></p></li>
<li><p>A CSV form to import multiple devices in bulk. <code class="docutils literal notranslate"><span class="pre">/plugins/device-onboarding/import/</span></code></p></li>
<li><p>An API, <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/plugins​/device-onboarding​/onboarding​/</span></code></p></li>
</ul>
<p>During a successful onboarding process, a new device will be created in Nautobot with its management interface and its primary IP assigned. The management interface will be discovered on the device based on the IP address provided.</p>
<blockquote>
<div><p>By default, the plugin is using the credentials defined in the main <code class="docutils literal notranslate"><span class="pre">configuration.py</span></code> for Napalm (<code class="docutils literal notranslate"><span class="pre">NAPALM_USERNAME</span></code>/<code class="docutils literal notranslate"><span class="pre">NAPALM_PASSWORD</span></code>). It’s possible to define specific credentials for each onboarding task.</p>
</div></blockquote>
</section>
<section id="onboard-a-cisco-nxos-device-running-the-nxapi-feature">
<h3>Onboard a Cisco NXOS Device Running the <code class="docutils literal notranslate"><span class="pre">nxapi</span></code> Feature<a class="headerlink" href="#onboard-a-cisco-nxos-device-running-the-nxapi-feature" title="Permalink to this headline"></a></h3>
<p>When onboarding an NXOS device with the <code class="docutils literal notranslate"><span class="pre">nxapi</span></code> feature, there are a few requirements:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Port</span></code> must be the same value configured for <code class="docutils literal notranslate"><span class="pre">nxapi</span> <span class="pre">https</span> <span class="pre">port</span></code> on the Cisco Nexus device</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Platform</span></code> must be explicitly set to be one with the specific parameters in the <span class="xref myst">Cisco NXOS Platform</span> section</p></li>
</ul>
</section>
<section id="onboarding-an-arista-eos-device">
<h3>Onboarding an Arista EOS Device<a class="headerlink" href="#onboarding-an-arista-eos-device" title="Permalink to this headline"></a></h3>
<p>When onboarding an Arista EOS device, there are a few requirements:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Port</span></code> must be the same value configured for HTTPS on the Arista device</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Platform</span></code> must be explicitly set to be the one with the specific parameters in the <span class="xref myst">Arista EOS Platform</span> section</p></li>
</ul>
</section>
<section id="consult-the-status-of-onboarding-tasks">
<h3>Consult the Status of Onboarding Tasks<a class="headerlink" href="#consult-the-status-of-onboarding-tasks" title="Permalink to this headline"></a></h3>
<p>The status of the onboarding process for each device is maintained is a dedicated table in Nautobot and can be retrived :</p>
<ul class="simple">
<li><p>Via the UI <code class="docutils literal notranslate"><span class="pre">/plugins/device-onboarding/</span></code></p></li>
<li><p>Via the API <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/plugins​/device-onboarding​/onboarding​/</span></code></p></li>
</ul>
</section>
</section>
<section id="screenshots">
<h2>Screenshots<a class="headerlink" href="#screenshots" title="Permalink to this headline"></a></h2>
<div class="admonition-developer-note-remove-me admonition">
<p class="admonition-title">Developer Note - Remove Me!</p>
<p>Ideally captures every view exposed by the App. Should include a relevant dataset.</p>
</div>
<section id="list-of-onboarding-tasks">
<h3>List of Onboarding Tasks<a class="headerlink" href="#list-of-onboarding-tasks" title="Permalink to this headline"></a></h3>
<p><img alt="Onboarding Tasks" src="../../_images/ss_onboarding_tasks_view.png" /></p>
</section>
<section id="csv-form-to-import-multiple-devices">
<h3>CSV form to import multiple devices<a class="headerlink" href="#csv-form-to-import-multiple-devices" title="Permalink to this headline"></a></h3>
<p><img alt="CSV Form" src="../../_images/ss_csv_import_view.png" /></p>
</section>
<section id="onboard-a-single-device">
<h3>Onboard a single device<a class="headerlink" href="#onboard-a-single-device" title="Permalink to this headline"></a></h3>
<p><img alt="Single Device Form" src="../../_images/ss_single_device_form.png" /></p>
</section>
<section id="menu">
<h3>Menu<a class="headerlink" href="#menu" title="Permalink to this headline"></a></h3>
<p><img alt="Menu" src="../../_images/ss_menu.png" /></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="app_overview.html" class="btn btn-neutral float-left" title="App Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="app_getting_started.html" class="btn btn-neutral float-right" title="Getting Started with the App" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, NTC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>